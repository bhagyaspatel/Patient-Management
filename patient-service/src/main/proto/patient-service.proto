syntax = "proto3";

//splits our service request and response files into different file, by default code get generated into the same file
option java_multiple_files = true;

option java_package = "billing";

service BillingService{
  rpc CreateBillingAccount (BillingRequest) returns (stream BillingResponse); // stream: defines that server can send multiple messages/responses to back to client
  //  rpc CreateBillingAccount (BillingRequest) returns ( BillingResponse);
}

// Message in a proto file defines the data structure - like defining a class, struct, or JSON schema.
message BillingRequest{
  string patientId = 1; // these numbers are required for serialization and deserilization for gRPC, it should be unique for every data type.
  string name = 2;
  string email = 3;
}

message BillingResponse{
  string accountId = 1;
  string status = 2;
}


/*
#########################################################################
      The proto file is same for client and server
      At enterprise level this file is stored at a central
      location which is then accessed by both client & server
      Here we are just copying it to both the service individually
      for ease of understanding.
#########################################################################
*/
